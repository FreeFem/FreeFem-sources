\documentclass[twoside]{book}
\newif\ifpdf
\ifx\pdfoutput\undefined
\pdffalse % we are not running PDFLaTeX
\else
\pdfoutput=1 % we are running PDFLaTeX
\pdftrue
\fi
%\usepackage{times}
%\usepackage{amsmath}
\usepackage{calc}
\usepackage[latin1]{inputenc}
\usepackage{FFF}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{hyperref}
\usepackage{FFF}
\usepackage{makeidx}
\usepackage{color}
\usepackage{multicol}
\usepackage{graphicx}
%\usepackage{dessin}
\topmargin -1.54cm
\oddsidemargin 0cm   %marge a 2 cm
\evensidemargin 0cm  %marge a 2 cm
\newcommand{\indente}{\hbox to \parindent {\hss}}
\parindent 0cm
\headsep 0.5cm
\topskip .5cm
\footskip 1cm
\headheight 1.0cm
\textwidth  16.5cm
%  \parindent 0cm
\textheight 24cm
\def\freefempp{\texttt{freefem++ }}
\def\textRed{\color{red}}
\def\textBlack{\color{black}}
\def\Blue#1{\textcolor{blue}{#1}}
\def\Black#1{\textcolor{black}{#1}}
\def\Red#1{\textcolor{red}{#1}}
\def\Magenta#1{\textcolor{magenta}{#1}}
\def\hin{\hbox{ in }}
\def\hon{\hbox{ on }}
\def\Cpp{\texttt{C++~}}
\def\R{\mathrm{I\!R}}
\def\example{\textbf{Example:}}
\def\eq#1{\Blue{\[#1\]}}
\def\R{\mathbb{R}}
\def\Z{\mathbb{Z}}
\def\itemtt[#1]{ \item[\texttt{#1}]}
\def\plot[#1]#2#3{\begin{figure}[hbt]
\begin{center}
    \includegraphics*[#1]{#2}
\end{center}
\caption{\label{#2} #3}
\end{figure}
}
\def\Ostream{\texttt{ostream}}
\def\Istream{\texttt{istream}}
\def\Bool{\texttt{bool}}
\def\Real{\texttt{real}}
\def\Int{\texttt{int}}
\def\vecttwo#1#2{\left|\begin{smallmatrix} #1 \\ #2 \end{smallmatrix}\right.}
\def\vdeux(#1,#2){\left|\begin{smallmatrix} #1 \\ #2 \end{smallmatrix}\right.}
\def\HLINE#1{\hbox to \hsize {#1}}
\def\twoplot[#1]#2#3#4#5{
\begin{figure}[hbt]
\begin{multicols}{2}
\begin{center}
    \includegraphics*[#1]{#2}
    \caption{\label{#2} #4}
\end{center}
\begin{center}
    \includegraphics*[#1]{#3}
    \caption{\label{#3} #5}
\end{center}
\end{multicols}
\end{figure}
}% end twoplot macro
\newtheorem{remark}{\textbf{Remark}}
\newtheorem{bug}{\textbf{Bug:}}
\newtheorem{proposition}{\textbf{Proposition}}
\newtheorem{algorithm}{\textbf{Algorithm}}
\newenvironment{ttlist}
   {\begin{list}{}{\renewcommand{\makelabel}[1]{\texttt{##1}\hfil}%
        \setlength{\labelwidth}{3cm}
        \setlength{\leftmargin}{\labelwidth+\labelsep}
    }}%
   {\end{list}}


\begin{document}
\graphicspath{{./}{plots/}}
\ifpdf
\DeclareGraphicsExtensions{.pdf, .jpg, .tif}
\else
\DeclareGraphicsExtensions{.eps,.ps, .jpg}
\fi

\let\subsubsection\subsection
\let\subsection\section
\let\section\chapter


\subsection{Keywords}
\bFF
      R3  
      bool 
      border 
      break 
      complex 
      continue 
      else
      end 
      fespace
      for 
      func 
      if 
      ifstream 
      include 
      int 
      load      
      macro
      matrix
      mesh 
      ofstream
      problem
      real
      return
      solve
      string 
      varf 
      while

\eFF
\subsection{The bison grammar}

\bFF

start:   input @ENDOFFILE;

input:   instructions ;
         
instructions:  instruction   
        | instructions  instruction   ;

list_of_id_args:   
            | id                      
            | id '=' no_comma_expr   
            | @FESPACE id             
            | type_of_dcl id         
            | type_of_dcl '&' id      
            | '[' list_of_id_args ']' 
            | list_of_id_args ',' id                     
            | list_of_id_args ',' '[' list_of_id_args ']' 
            | list_of_id_args ',' id '=' no_comma_expr  
            | list_of_id_args ',' FESPACE id            
            | list_of_id_args ',' type_of_dcl id        
            | list_of_id_args ',' type_of_dcl '&' id ;    

list_of_id1:  id                     
            | list_of_id1 ',' id   ;
         
id: @ID | @FESPACE ; 

list_of_dcls:    @ID                          
              |  @ID '='   no_comma_expr     
              |  @ID  '(' parameters_list ')' 
              |  list_of_dcls ',' list_of_dcls  ;


parameters_list:
           no_set_expr  
        |  @FESPACE  @ID  
        |  @ID '=' no_set_expr        
        | parameters_list ',' no_set_expr
        | parameters_list ',' id '=' no_set_expr ; 

type_of_dcl:   @TYPE 
             | @TYPE '[' @TYPE ']' ;

ID_space:
    @ID                                 
 |  @ID '[' no_set_expr ']'              
 |  @ID '=' no_set_expr                  
 |  '[' list_of_id1 ']'                
 |  '[' list_of_id1 ']' '[' no_set_expr ']'  
 |  '[' list_of_id1 ']' '=' no_set_expr ;
 
ID_array_space:
    @ID '(' no_set_expr ')'              
 |  '[' list_of_id1 ']' '(' no_set_expr ')' ;

fespace: @FESPACE ;

spaceIDa  :      ID_array_space
            |    spaceIDa ',' ID_array_space  ;
            
spaceIDb  :      ID_space 
            |    spaceIDb ',' ID_space ;

spaceIDs :    fespace               spaceIDb    
           |  fespace '[' @TYPE ']'  spaceIDa    ;

fespace_def: @ID '(' parameters_list ')' ;
     
fespace_def_list:  fespace_def
                 | fespace_def_list ',' fespace_def ;


declaration:   type_of_dcl list_of_dcls ';' 
             | 'fespace' fespace_def_list    ';' 
             | spaceIDs ';'
             | @FUNCTION @ID '=' Expr ';' 
             | @FUNCTION type_of_dcl @ID  '(' list_of_id_args ')'  '{' instructions'}'                     
             | @FUNCTION @ID '(' list_of_id_args ')'   '='   no_comma_expr  ';'     ;              

begin: '{'  ;
end:   '}'  ;

for_loop:    'for'   ;  
while_loop:  'while' ;

instruction:   ';' 
         | 'include'  @STRING  
         | 'load'  @STRING           
         |  Expr  ';' 
         |  declaration  
         |  for_loop  '(' Expr ';' Expr ';' Expr ')' instruction  
         |  while_loop '(' Expr ')' instruction 
         |  'if' '(' Expr ')'   instruction  
         |  'if' '(' Expr ')'   instruction  ELSE instruction 
         |  begin  instructions end 
         |  'border'  @ID   border_expr 
         |  'border'   @ID   '['  array ']' ';'                               
         |  'break'  ';' 
         |  'continue'  ';' 
         |  'return'  Expr ';'  ;


bornes: '(' @ID '=' Expr ',' Expr ')' ;

border_expr:   bornes instruction  ;

Expr:    no_comma_expr 
       | Expr ',' Expr ;

        
unop:     '-' 
        | '+' 
        | '!' 
        | '++'     
        | '--'  ;   

no_comma_expr:  
          no_set_expr 
        | no_set_expr '=' no_comma_expr     
        | no_set_expr '+=' no_comma_expr  
        | no_set_expr '-=' no_comma_expr 
        | no_set_expr '*=' no_comma_expr   
        | no_set_expr '/=' no_comma_expr ; 

no_set_expr:
          unary_expr 
        | no_set_expr '*' no_set_expr 
        | no_set_expr '.*' no_set_expr   
        | no_set_expr './' no_set_expr   
        | no_set_expr '/' no_set_expr 
        | no_set_expr '%' no_set_expr 
        | no_set_expr '+' no_set_expr 
        | no_set_expr '-' no_set_expr 
        | no_set_expr '<<' no_set_expr        
        | no_set_expr '>>' no_set_expr        
        | no_set_expr '&' no_set_expr 
        | no_set_expr '&&' no_set_expr        
        | no_set_expr '|' no_set_expr 
        | no_set_expr '||' no_set_expr      
        | no_set_expr '<' no_set_expr 
        | no_set_expr '<=' no_set_expr        
        | no_set_expr '>' no_set_expr 
        | no_set_expr '>=' no_set_expr         
        | no_set_expr '==' no_set_expr       
        | no_set_expr '!=' no_set_expr ;       

    
parameters:  
        |   no_set_expr 
        |   @FESPACE  
        |   id '=' no_set_expr 
        |   parameters ',' @FESPACE 
        |   parameters ',' no_set_expr 
        |   parameters ',' id '=' no_set_expr ; 

array:   no_comma_expr 
       | array ',' no_comma_expr ;
     
    
unary_expr:
    pow_expr   
  | unop  pow_expr %prec UNARY ;   

pow_expr: primary
  |      primary  '^' unary_expr   
  |      primary  '_' unary_expr  
  |      primary '\''  ;    //  transpose \index{transpose}

primary:  
           @ID           
  |        @LNUM         
  |        @DNUM         
  |        @CNUM         
  |        @STRING 
  |        primary '('  parameters ')'  
  |        primary '[' Expr ']'        
  |        primary '['  ']'        
  |        primary '.'  ID       
  |        primary '++'      
  |        primary '--'     
  |        TYPE '('  Expr ')' ;
  |        '(' Expr ')' 
  |        '[' array  ']' ;

\eFF 

\end{document}