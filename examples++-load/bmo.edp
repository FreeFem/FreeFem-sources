load "lgbmo"
int n=5;
real[int] X(n),DX(n);
func real J(real[int] & x)
{
  real s=0;
  for (int i=0;i<x.n;i++)
    s +=(x[i]*x[i]-cos(18.*x[i]));
  return s;
}

func real[int] DJ(real[int] &x)
{ 
  for (int i=0;i<x.n;i++)
    x[i]=2*x[i]-sin(18*x[i]);
  return x;  // return of global variable ok 
};

for(int i=0;i<n;++i)
  X[i]=abs(sin((i+1)/(n*2.)));

    real  mm=bmo(J,DJ,X,min=-10,max=10);
cout << " min = " << mm << endl;
cout << " x = " << x << endl;

